package backend.healthdatamodule.rules;

import backend.healthdatamodule.facts.HighStress;
import backend.healthdatamodule.facts.ShortSleep;
import backend.healthdatamodule.facts.IntermediateRisk;
import backend.healthdatamodule.facts.SuspicionOfHighRisk;
import backend.healthdatamodule.facts.HighRisk;
import backend.healthdatamodule.facts.Action;

// pravilo R4: a ^ b -> l
// opis: ako je stres visok I san kratak, postavlja se preliminarni rizik srednji
rule "R4_intermediate_risk"
    when
        HighStress()  // provera da li postoji HighStress cinjenica
        ShortSleep()  // provera da li postoji ShortSleep cinjenica
    then
        System.out.println("Rule R4 activated: Preliminary risk detected.");
        // ubacivanje nove cinjenice u radnu memoriju
        insert(new IntermediateRisk());
end

// pravilo R3: b ^ l -> m
// opis: ako je preliminarni rizik srednji I san je kratak, pojavljuje se sumnja na visok rizik
rule "R3_suspicion_high_risk"
    when
        ShortSleep()
        IntermediateRisk()
    then
        System.out.println("Rule R3 activated: Suspicion of high risk.");
        insert(new SuspicionOfHighRisk());
end

// pravilo R2: l ^ m -> p
// opis: ako postoji preliminarni rizik srednji I sumnja na visok rizik, zakljucuje se visok rizik
rule "R2_conclude_high_risk"
    when
        IntermediateRisk()
        SuspicionOfHighRisk()
    then
        System.out.println("Rule R2 activated: High risk concluded.");
        insert(new HighRisk());
end

// pravilo R1: p -> q
// opis: ako je rizik visok, aktivira se akcija (preporuka odmora i obavestenje menadzeru)
rule "R1_trigger_action"
    when
        HighRisk()
    then
        System.out.println("Rule R1 activated: Action triggered for high risk.");
        insert(new Action());
end
